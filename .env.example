# ===========================================
# ApplyPotato Configuration
# ===========================================
# Copy this file to .env and fill in your values
# ===========================================

# ===================
# API Keys & Secrets
# ===================

# OpenAI API Key (get from https://platform.openai.com/api-keys)
OPENAI_API_KEY=sk-...

# Google Gemini API Key (get from https://makersuite.google.com/app/apikey)
GEMINI_API_KEY=...

# Path to Google Cloud credentials JSON file
# Download from Google Cloud Console > APIs & Services > Credentials
# Place the file in the auth/ folder (created automatically on first run)
GOOGLE_CREDENTIALS_PATH=./auth/credentials.json

# Google Sheet ID (from the URL: https://docs.google.com/spreadsheets/d/{SHEET_ID}/edit)
GOOGLE_SHEET_ID=1abc...xyz

# ===================
# AI Settings
# ===================

# Which AI provider to use: "openai" or "gemini"
AI_PROVIDER=openai

# Model names (optional - defaults shown)
OPENAI_MODEL=gpt-4o-mini
GEMINI_MODEL=gemini-2.0-flash

# AI Output Token Limits (optional - if not set, uses model defaults)
# OpenAI gpt-4o-mini default: 16384 tokens
# Gemini gemini-2.0-flash default: 8192 tokens
# Only set these if you want to limit output size (e.g., to reduce costs)
# OPENAI_MAX_TOKENS=4000
# GEMINI_MAX_OUTPUT_TOKENS=4000

# ===================
# Job Sources
# ===================

# GitHub repos to scrape (comma-separated, format: owner/repo@branch)
# Branch defaults to "main" if not specified
GITHUB_REPOS=owner/repo@branch,owner/other-repo@branch

# How many days back to look for jobs (older jobs are skipped)
JOB_AGE_LIMIT_DAYS=7

# ===================
# Schedule Settings
# ===================

# How often to scrape for new jobs (in minutes)
SCRAPE_INTERVAL_MINUTES=15

# How often to check Gmail for status updates (in minutes)
GMAIL_CHECK_INTERVAL_MINUTES=30

# How far back to look for emails (in days)
GMAIL_LOOKBACK_DAYS=1

# ===================
# User Profile
# ===================

# Your name (used for logging)
USER_NAME=John Doe

# Your email (must match Gmail account for status tracking)
USER_EMAIL=john@example.com

# Your class standing: Freshman, Sophomore, Junior, Senior
# Leave blank if already graduated
USER_CLASS_STANDING=Junior

# Expected graduation date (format: Month YYYY)
USER_GRADUATION_DATE=May 2026

# Your major(s) - comma-separated if double/triple major
USER_MAJOR=Computer Science

# Your minor(s) - comma-separated, or leave blank if none
USER_MINOR=

# Your GPA (used for filtering jobs with GPA requirements)
USER_GPA=3.7

# Work authorization status:
# Options: US Citizen, Green Card, OPT, CPT, H1B, Need Sponsorship
USER_WORK_AUTHORIZATION=US Citizen

# What type of job are you looking for?
# Options: Internship, Full-Time, Both
USER_TARGET_JOB_TYPE=Internship

# Target season/year (e.g., Summer 2025, Fall 2025)
# Leave blank if looking for any start date / ASAP
USER_TARGET_SEASON_YEAR=Summer 2025

# Preferred locations - comma-separated cities, or "Any" for no preference
USER_PREFERRED_LOCATIONS=NYC,SF,Seattle,Remote

# Work model preference: Remote, Hybrid, On-site, Any
USER_WORK_MODEL=Any

# Minimum acceptable hourly rate in USD (for internships)
# Set to 0 to disable salary filtering
USER_MIN_SALARY_HOURLY=25

# Job categories you're interested in - comma-separated
# Options: Software Engineering, Product Management, Data Science/AI/ML, Quantitative Finance, Hardware Engineering
USER_JOB_CATEGORIES=Software Engineering,Data Science/AI/ML

# Dream companies - comma-separated (optional, used for scoring boost)
USER_TARGET_COMPANIES=Google,Meta,Apple,Microsoft,Amazon

# Your skills - comma-separated (used for job matching)
USER_SKILLS=Python,Java,JavaScript,React,SQL,Git

# Your highest degree completed or currently pursuing
# Options: Bachelors, Masters, PhD, MBA
USER_DEGREE_LEVEL=Bachelors

# ===================
# Status Colors (hex codes for Google Sheets row highlighting)
# ===================
# Leave blank or omit for no color (default white)
# Colors are applied to the entire row when status changes

STATUS_COLOR_APPLIED=#E3F2FD      # Light Blue
STATUS_COLOR_OA=#B3E5FC           # Sky Blue
STATUS_COLOR_PHONE=#80DEEA        # Cyan
STATUS_COLOR_TECHNICAL=#80CBC4    # Teal
STATUS_COLOR_OFFER=#A5D6A7        # Green
STATUS_COLOR_REJECTED=#F44336     # Red

# ===================
# Discord Notifications
# ===================
# Get instant Discord alerts when jobs from your dream companies are found
# Free! Just create a Discord server and webhook

# Enable/disable Discord notifications
DISCORD_ENABLED=false

# Discord webhook URL (from Server Settings → Integrations → Webhooks)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/xxx/yyy

# Fuzzy match threshold for dream companies (0-100, default: 80)
# Higher = stricter matching, Lower = more lenient
# Examples: "SIG" matches "Susquehanna International Group", "JPMorgan" matches "JPM"
DREAM_COMPANY_MATCH_THRESHOLD=80

# ===================
# Testing (Integration Tests)
# ===================
# For running integration tests with pytest
# Create a SEPARATE Google Sheet for testing (not your production sheet!)
# 1. Create a new blank Google Sheet
# 2. Copy the sheet ID from the URL
# 3. Set it here

# Test Google Sheet ID (leave blank if not running tests)
# TEST_GOOGLE_SHEET_ID=1abc...xyz

# ===================
# Advanced Settings
# ===================

# Maximum retries for failed requests
MAX_RETRIES=3

# Timeout for page loads in seconds
PAGE_TIMEOUT_SECONDS=30

# JS render delay after page load (seconds)
# Increase for slow-rendering sites like Workday (e.g., 2 or 3)
# Pipeline automatically increases this on retries when extraction fails
RENDER_DELAY_SECONDS=3

# Base delay for exponential backoff on retries (seconds)
# Actual wait = RETRY_BASE_DELAY_SECONDS * 2^attempt (e.g., 5, 10, 20 seconds)
RETRY_BASE_DELAY_SECONDS=5

# How long to remember processed source URLs (days)
# URLs older than this are pruned and will be re-processed if they appear again
SEEN_SOURCES_TTL_DAYS=90

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# OAuth local server port (for Google authentication)
OAUTH_LOCAL_PORT=8888

# OAuth timeout in seconds (how long to wait for user to authenticate)
OAUTH_TIMEOUT_SECONDS=120
